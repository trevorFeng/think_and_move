### 快照
redis使用操作系统的多进程机制来实现快照持久化
- 首先会fork出一个子进程，由子进程来做持久化，遍历数据进行持久化
- 使用操作系统的COW（copy on write）机制，父进程在进行数据修改时会复制出数据页，在这个复制的数据页上进行修改


### AOF原理
只进行对内存修改的指令进行记录
- redis实例启动之后，在收到客户端的修改指令之后，先做逻辑处理，然后持久化AOF日志

### AOF重写
fork一个子进程，对现有的内存状态持久化为AOF日志，然后将在这期间的增量指令，加入到AOF日志中