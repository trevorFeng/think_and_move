一面
介绍一下自己

问项目经历, 聊"数据同步"

接着聊上了 K8S 的项目

有没有什么钻研得比较深得技术？（我：kubernetes, golang, prometheus, java）

kubernetes 的架构是怎么样的? 这个问题很大，拆成 apiserver、controller、kubelet、scheduler 讲了一下

golang 与 java 的比较 这个问题又很大，当时主要对比了 vm、协程支持、面向对象和泛型的区别、以及自己对各自使用场景的一些理解

golang 的 gC 算法 知道是三色标记，不过细节说不上来

从无限的字符流中, 随机选出 10 个字符 没见过也没想出来，查了一下是蓄水池采样算法，经典面试题，没刷题吃亏了

怎么扩展 kubernetes scheduler, 让它能 handle 大规模的节点调度

单节点提速：优选阶段随机取部分节点进行优选；水平扩展 scheduler 节点，pod 做一致性 hash 来决定由哪个scheduler 调度

你有什么想问我的?

一面其实有点没放开，面试官对我的回答没有什么反馈和深入，所以我当时面完觉得自己其实已经挂了，后来收到二面电话着实吃惊了一下。

二面
先聊了聊项目

给 Prometheus 做了哪些改动？

自研配置中心, 具体做了哪些内容？

有用过 MySQL 的什么高级特性吗? 这里不太理解，我问什么算高级特性，面试官就切换到了下一个问题

配置中心的核心数据表是怎么设计的?

为什么在业务里用 Redis, Redis 有什么优点? 单线程：并发安全；高性能；原语与数据结构丰富；采用广泛，踩坑成本低

对 Redis 里数据结构的实现熟悉吗? 说了一个 zset 跳表

用过 Redis 的哪些数据结构, 分别用在什么场景?

Java 初始化一个线程池有哪些参数可以配置, 分别是什么作用?

自己写的 Java 应用调优过哪些 JVM 参数, 为什么这么调优? 这个问住了，我只知道最大堆最小堆，开 G1，开 gC 日志以及 OOM dumper 这些基本的

用 Jetty 的时候有没有配什么参数, 为什么这么配?

Jetty QTP 等待队列配置成无限的话, 你觉得好吗? 会有什么问题吗?

用过 Linux Bash 里的哪些命令, 分别用它们干嘛?

一道笔试题: 需要在给的链接中作答, 不能 google, 不能跳出, 不能用 IDE:
题目是这样的： 启动两个线程, 一个输出 1,3,5,7…99, 另一个输出 2,4,6,8…100 最后 STDOUT 中按序输出 1,2,3,4,5…100 我: 我用 Go 实现吧 面试官: 不可以，用 Java 的 notify 机制实现 我:那我用 Java
BlockingQueue 面试官：说不可以, 要求用 Java 的 wait + notify 机制来实现 我完全没写过 wait +
notify，只能表示不会, 面试官说那行吧你可以用 go 写 最后用 go channel 实现了一版,
不过给的网页上不能运行代码，也不知道写得对不对，然后面试结束。

这一轮面试官延续了一面的风格，问完一题就赶忙下一题了，似乎没有表现出对我的回答有兴趣或认可。因此这轮面完，我又觉得自己挂了…

三面
依然先聊项目

对监控警报的项目很感兴趣, 问了挺多细节, 最后问了一个问题: 现在要你实现一个语义不弱于 PromQL 的查询语言, 你能实现吗?
这里虽然看过一些 Prometheus 的代码，但其实对 PromQL 的 lexer 和 parser
部分没有细看，还好之前因为数据同步项目里想写声明式 Stream SQL 研究过一点 ANTLR，用 ANTLR 写语法 + AST遍历塞查询逻辑给糊弄过去了。

问我觉得做得最深入的项目是什么 当然是数据同步

聊数据同步项目

问 Linux 掌握得怎么样？

没有系统学习过，基本上是自己运维踩坑积累的

问 Golang 掌握得怎么样？
用了半年, 看过 effective go

问算法掌握得怎么样？ 到图为止都可以

问最短路算法 只记得 dijkstra 了，描述了代码流程

k8s 掌握得怎么样? 不怎么样，没有自己写过 controller 和 scheduler，但是对概念都很熟悉，看过 xxx 这几部分的源码 k8s 的 exec 是怎么实现的? 这个问题正中下怀，之前写了 PingCAP 的小作业正好对这块特别熟悉

这轮聊得顺畅多了。同时发现蚂蚁的面试官似乎挺喜欢让你自己评价自己的：“你觉得自己 xxx 掌握得怎么样？”（只有五位面试官，样本不够大，不能作数哦）。

四面
介绍一下自己

觉得自己基础知识掌握怎么样

平时一般会用到哪些数据结构？

链表和数组相比, 有什么优劣？

如何判断两个无环单链表有没有交叉点

如何判断两个有环单链表有没有交叉点

如何判断一个单链表有没有环, 并找出入环点

TCP 和 UDP 有什么区别?

描述一下 TCP 四次挥手的过程中

TCP 有哪些状态

TCP 的 LISTEN 状态是什么

TCP 的 CLOSE_WAIT 状态是什么

建立一个 socket 连接要经过哪些步骤

常见的 HTTP 状态码有哪些

301和302有什么区别

504和500有什么区别

HTTPS 和 HTTP 有什么区别

写一个算法题: 手写快排

这一轮全程问的基础知识，基础扎实的话就没问题了。

五面
介绍一下自己

在 k8s 上做过哪些二次开发?

自己用 Helm 构建过 chart 吗？有哪些？

有没有考虑过自己封装一个面向研发的 PaaS 平台？

配置中心做了什么？

为什么不用 zookeeper？

配置中心如何保证一致性？

Spring 里用了单例 Bean, 怎么保证访问 Bean 字段时的并发安全？

用并发安全的数据结构，比如 ConcurrentHashMap；或者加互斥锁

假如我还想隔离两个线程的数据, 怎么办？

ThreadLocal，然后举了个例子

Golang 里的逃逸分析是什么？怎么避免内存逃逸？

这个不知道，认怂了

对比一下 Golang 和 Java 的 gC 答了一下 CMS、G1和三色标记，我对比的点是 JVM 有分代回收，Go 的 Runtime 没有，没能深入地讲

Golang 的 gC 触发时机是什么 阈值触发；主动触发；两分钟定时触发；

有没有写过 k8s 的 Operator 或 Controller？（我：没有写过）

谈一谈你对微服务架构的理解 大体思路"微服务本质是人员组织架构演进与关注点分离"

谈一谈你对 Serveless 的理解 大体思路"Serveless 是继 docker 与容器编排之后的又一次应用开发与基础设施提供方之间的边界划分"

你认为 Serveless 是未来吗? 为什么? 大体思路"是云服务的未来，把蛋糕从企业的IT、运维与中间件部门切走，形成规模效应，做得越多赚得越多；公司内的话 servless
能够帮助加速前台业务迭代，但对中后台的收益还看不到，未来可能会有比 servless 更适合中后台的架构"

面试官：最后你有什么要问我的？ 我：为什么足足安排了五轮技术面，而且其中有两轮似乎和 k8s 没有关系啊？ 面试官：我们觉得你做过的东西挺多的，各个方向都想让你尝试一下 (我的内心：…) 我：那这轮是最后一轮技术面吗？ 面试官：不一定

后续还问了面试官一些业务相关的问题，就不赘述了

六面 HR面
问经历

为什么要考虑出来看看呢？ “现在自己的技术成长有点碰到瓶颈，加上一直对您公司钦慕有加relaxed”"

现在公司的主营业务是什么？（这块往技术上问了很多，感觉是想考察我解释复杂问题的能力）

现在带人吗？report 层级是怎样的？

对自己这几年的经历满意吗？

觉得自己有什么缺点？

碰到过什么很挫败的事情吗？

未来的职业规划是怎样的？

看机会的时候，主要考虑的是待遇、平台、人员还是什么其他因素？

现在的待遇如何

有什么想问我的
作者：Java不熬夜
https://www.bilibili.com/read/cv9347449?from=articleDetail&spm_id_from=333.341.b_726561645265636f6d6d656e64496e666f.2
出处： bilibili